function [A_10, B_10, A_5, B_5] = LatMatrixDecouple(A, B, X_bar)

PHI = Q2E(X_bar);
theta_0 = PHI(2);

T_A_13to5 = [0 1 0 0 0 0 0 0 0 0 0 0 0;
             0 0 0 1 0 0 0 0 0 0 0 0 0;
             0 0 0 0 0 1 0 0 0 0 0 0 0;
             0 0 0 0 0 0 0 0 0 0 0 0 0;
             0 0 0 0 0 0 0 0 0 0 0 0 0];

A_5 = T_A_13to5*A*(T_A_13to5');

A_5(4,2) = 1;
A_5(1,4) = 9.81*cos(theta_0);
A_5(5,3) = 1;

T_A_10to5 = [0 1 0 0 0 0 0 0 0 0;
             0 0 0 1 0 0 0 0 0 0;
             0 0 0 0 0 1 0 0 0 0;
             0 0 0 0 0 0 1 0 0 0;
             0 0 0 0 0 0 0 0 1 0];

A_10 = (T_A_10to5')*A_5*T_A_10to5;

T_B_4to2 = [0 0;
            0 0;
            1 0;
            0 1];

B_5 = T_A_13to5*B*T_B_4to2;

B_10 = (T_A_13to5')*B_5*(T_B_4to2');
end